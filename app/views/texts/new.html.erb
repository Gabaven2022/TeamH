<main>
  <div class="Sell">
    <%= form_for @text do |f| %>
      <div class="description">教科書の写真を添付して下さい！</div>

      <div class="TextbookPicture">
          <div class="LeftPosition">
              <div class="AddFile2">
                  <label class="AddFile2Button TextbookPicture">
                      <div class="select">
                        <%= f.file_field :text_image, id: "input myImage", style: "display: block;opacity: 0;position: absolute;", onchange: "setImage(this);", required: true, onclick: "this.value ='';" %>写真選択はこちら！
                      </div>
                  </label>
              </div>
          </div>


          <div class="RemodelPosition">
              <div class="remodel">
                  <img id="preview">
              </div>
          </div>
      </div>

      <hr>

      <!-- ここから学部名プルダウンデザイン -->
      <div class="description">学部を選んで下さい！</div>
      <div class="boxes">
        <%= f.radio_button :faculty, '1',required: true %>
        <%= f.label :faculty_1, "教育学部" %>

        <%= f.radio_button :faculty, '2' %>
        <%= f.label :faculty_2, "芸術地域デザイン学部" %>

        <%= f.radio_button :faculty, '3' %>
        <%= f.label :faculty_3, "経済学部" %>

        <%= f.radio_button :faculty, '4' %>
        <%= f.label :faculty_4, "理工学部" %>

        <%= f.radio_button :faculty, '5' %>
        <%= f.label :faculty_5, "農学部" %>

      </div>

      <!-- ここまで学部名プルダウンデザイン -->

      <div class="description">教科書の名前とその状態を書いてください！</div>
      <!-- descriptionのcssはcommon_cssにあるよ！ -->

      <div class="cp_iptxt">
        <label class="ef">
            <%= f.text_field :text_name, placeholder: "教科書名",required: true %>
          </label>
      </div>
      <!-- 参考：https://copypet.jp/692/ -->

      <div class="cp_iptxt">
          <label class="ef">
                <%= f.text_area :body, rows:'5',placeholder: '商品の状態及び特筆事項',required: true %>
          </label>
      </div>

      <div class="AddFile button2">
        <label class="AddFileButton button3" style="margin-right:10px;">
            <input type="button" onClick="history.back()">キャンセル
        </label>
          <label class="AddFileButton button3 submit-label">
            <%= f.submit %>
            確定
          </label>
      </div>
    <% end %>
  </main>
</div>
<script>

    function setImage(target) {
        const img = document.getElementById("preview");
        img.style.border = 'solid 1px rgb(120, 120, 120)';

        img.style.MarginBottom = '100px';/*margin-bottom*/
        var reader = new FileReader();
        reader.onload = function (e) {
            document.getElementById("preview").setAttribute('src', e.target.result);
        }
        reader.readAsDataURL(target.files[0]);
    };
</script>
<style>
 .file-field{
    display: block;
    opacity: 0;
    height: 0;
    width: 0;
 }
</style>
